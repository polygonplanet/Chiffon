/*!
 * Chiffon v1.6.1 - A very small ECMAScript parser, tokenizer and minifier written in JavaScript.
 * Copyright (c) 2015 polygon planet <polygon.planet.aqua@gmail.com>
 * @license MIT
 */
!function(a,b,c){"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports?module.exports=c():exports[a]=c():"function"==typeof define&&define.amd?define(c):b[a]=c()}("Chiffon",this,function(){"use strict";function a(a){return new RegExp("(?:(/[*][\\s\\S]*?[*]/)|(//[^"+D+"]*|<!--[^"+D+"]*)|(?:^|("+E+"))(?:"+F+"|)(-->[^"+D+"]*)|(`(?:\\\\[\\s\\S]|[^`\\\\])*`)"+G+'|("(?:\\\\[\\s\\S]|(?:[^"'+D+'\\\\]|[^"\\r\\\\][^"\\n\\\\]))*"|\'(?:\\\\[\\s\\S]|(?:[^\''+D+"\\\\]|[^'\\r\\\\][^'\\n\\\\]))*')|("+(a?I:F)+")"+G+"|(0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)|(?:\\d+(?:[.]\\d*)?|[.]\\d+)(?:[eE][+-]?\\d+)?|[1-9]\\d*|0[0-7]+)|("+H+")|(\\\\u[0-9a-fA-F]{4})|"+F+"|("+E+")|("+J+"+))","g")}function b(a){return 10===a||13===a||8232===a||8233===a}function c(a){return!!~"{}()[]<>=!+-*%/&|^~?:;,.".indexOf(a)}function d(a){return!!~"0123456789".indexOf(a)}function e(a){for(var b=n.call(arguments,1),c=0,d=b.length;d>c;c++){var e=b[c];for(var f in e)p.call(e,f)&&(a[f]=e[f])}return a}function f(a){this.ab=e({},a||{})}function g(a){this.ab=e({},a||{})}function h(a,b){this.ab=e({},b||{},$),this.aa=""+a}var i,j={},k=Array.prototype,l=Object.prototype,m=k.push,n=k.slice,o=k.splice,p=l.hasOwnProperty,q=String.fromCharCode,r="Comment",s="LineTerminator",t="Template",u="String",v="Punctuator",w="RegularExpression",x="Numeric",y="UnicodeEscapeSequence",z="Identifier",A="Null",B="Boolean",C="Keyword",D="\\r\\n\\u2028\\u2029",E="(?:\\r\\n|["+D+"])",F="(?:(?!["+D+"])\\s)+",G="(?=\\s*(?:(?!\\s*[/\\\\<>*+%`^\"'\\w$-])[^/\\\\<>*+%`^'\"({[\\w$-]|[!=]==?|[|][|]|&&|/[*/]|[,.;:!?)}\\]"+D+"]|$))",H="(?:>>>=?|[.]{3}|<<=|===|!==|>>=|[+][+](?=[+])|--(?=-)|[=!<>*%+/&|^-]=|&&|[|][|]|[+][+]|--|<<|>>|=>|[-+*/%<>=&|^~!?:;,.()[\\]{}])",I="(?:/(?![*])(?:\\\\.|[^/"+D+"\\\\])+/(?:[gimuy]{0,5}|\\b))",J="[^\\s+/%*=&|^~<>!?:;,.()[\\]{}'\"`-]",K="typeof|in|void|case|instanceof|yield|throw|delete",L="if|while|for|with",M=new RegExp("^(?:"+L+"|"+K+"|var|else|function|this|return|new|break|do|catch|finally|try|default|continue|switch|const|export|import|class|extends|debugger|super|let|static|enum|await|implements|package|protected|interface|private|public)$"),N=new RegExp(E),O=new RegExp("^"+J),P=new RegExp(J+"$"),Q=/^[+-]/,R=/[+-]$/,S=new RegExp("^"+F),T=new RegExp("(?:(?:^(?:"+K+")$)|(?:(?![.\\]])"+H+"$))"),U=new RegExp("^(?:"+L+")$"),V=a(),W=a(!0);f.prototype={ac:function(a,b){for(var c,d,e,f,g,h,i,j,k=0;k<a.length;k++)if(d=a[k],e=d.length,0!==e){if(f=this.line,g=this.ar-this.af,j=null,i=this.bf(d),i===u||i===r&&"*"===d.charAt(1))this.ah(d,this.ar+e);else if(i===s)this.line++,this.af=this.ar+e;else if(i===w){if(this.aq(a,k,b,d)){k--;continue}j=this.ai(d)}else if(i===t){this.al(d,b,g);continue}this.ar+=e,i===r&&!this.ab.comment||i===s&&!this.ab.lineTerminator||i&&(c={type:i,value:d},j&&(c.regex=j),this.ab.range&&this.ak(c,this.ar),this.ab.loc&&(h=this.ar-this.af,this.ag(c,f,g,this.line,h)),b[b.length]=c)}},bf:function(a){var e,f=a.length,g=a.charAt(0);if('"'===g||"'"===g)return u;if("/"===g)return 1===f?v:(g=a.charAt(1),"/"===g||"*"===g?r:w);if("."===g)return 1===f?v:(g=a.charAt(1),"."===g?v:x);if("<"===g)return 1===f?v:(g=a.charAt(1),"!"===g?r:v);if("-"===g)return 3>f?v:r;if("`"===g)return t;if("}"===g)return 1===f?v:t;if("\\"!==g){if(e=g.charCodeAt(0),32!==e&&9!==e&&!S.test(g))return b(e)?s:"true"===a||"false"===a?B:"null"===a?A:c(g)?v:d(g)?x:M.test(a)?C:z}else if(f>1)return y},ak:function(a,b){a.range=[b-a.value.length,b]},ag:function(a,b,c,d,e){a.loc={start:{line:b,column:c},end:{line:d,column:e}}},ah:function(a,b){if(this.ab.loc){var c=a.split(N);c.length>1&&(this.line+=c.length-1,this.af=b-c.pop().length)}},al:function(a,b,c){var d=this.am(a,c),e=this.an(d);m.apply(b,e)},an:function(a){for(var b=[],c=0,d=a.length;d>c;c++){var f=a[c];if("tmp-source"===f.type){i=e({},f.ae,{type:t});var g=X(f.value,this.ab);i=null,m.apply(b,g)}else b[b.length]=f}return b},am:function(a,c){for(var d,e,f,g,h,i,j,k,l=this.line,m=l,n=this.ar,o=[this.af],p=[],r=0,s="",u=t,v=0,w=0,x=0,y=0,z=a.length;z>y;g=a.charCodeAt(y++)){var A=a.charCodeAt(y);b(A)&&(13===g&&10===A&&l--,l++,o[o.length]=n+y+1),h?(123===A?w++:125===A?w--:40===A?x++:41===A?x--:91===A?v++:93===A&&v--,0===v&&0===w&&0===x&&z>y+1&&125===a.charCodeAt(y+1)&&(j=!0,u="tmp-source",h=!1)):92===A?92===g?r++:r=1:36===A?i=92!==g||r%2===0:123===A&&i&&36===g&&(j=!0,u=t,h=!0),s+=q(A),y===z-1&&(j=!0,u=t),j&&(k={type:u,value:s},d=n+y+1,e=this.ap(o,d),f=d-e,u===t?(this.ab.range&&this.ak(k,d),this.ab.loc&&this.ag(k,m,c,l,f),c=f+1):(d=n+y+1-s.length,e=this.ap(o,d),k.ae={line:m,ar:d,af:e},c=f),p[p.length]=k,s="",m=l,j=!1)}return this.line=m,this.ar=d,this.af=e,p},ap:function(a,b){for(var c=a.length-1;c>=0;--c){var d=a[c];if(b>=d)return d}},aq:function(a,b,c,d){for(var e=c.length;--e>=0;){var f=c[e],g=f.type;if(g!==r&&g!==s){var h=f.value;if(g===v){if(")"===h){if(this.as(c,e+1))break}else if(T.test(h))break}else if(g===C&&T.test(h)||g===t&&"${"===h.slice(-2))break;var i=d.match(V);return o.apply(a,[b,1].concat(i)),!0}}return!1},as:function(a,b){for(var c=0;--b>=0;){var d=a[b],e=d.type;if(e===v){var f=d.value;if("("===f){if(0===--c){var g=a[b-1];return g&&g.type===C&&U.test(g.value)?!0:!1}}else")"===f&&c++}}return!1},ai:function(a){var b=a.lastIndexOf("/"),c=a.substring(b+1),d=a.substr(1,b-1);return{pattern:d,flags:c}},tokenize:function(a){a=""+a,i?e(this,i):(this.line=1,this.ar=0,this.af=0);var b=[],c=a.match(W);return c&&this.ac(c,b),b}};var X=j.tokenize=function(a,b){return new f(b).tokenize(a)};g.prototype={untokenize:function(a){for(var b,c=[],d=0,e=a.length;e>d;b=a[d++]){var f=a[d],g=f.type,h=f.value;if(b){var i,j=(b.type,b.value);switch(g){case v:i=Q.test(h)&&R.test(j);break;case z:case C:case x:case A:case B:case y:i=O.test(h)&&P.test(j)}c[c.length]=(i?" ":"")+h}else c[c.length]=h}return c.join("")}};var Y=j.untokenize=function(a,b){return new g(b).untokenize(a)},Z={},$={maxLineLen:32e3};h.prototype={av:function(){this.length=this.ad.length,this.ar=0,this.at=0,this.aw()},au:function(){return this.ar++,this.aw()},aw:function(){return this.ao=this.ad[this.ar-1]||{},this.aj=this.ad[this.ar]||Z,this.value=this.aj.value,this.type=this.aj.type,this.ax=this.ad[this.ar+1]||Z,this.aj},ay:function(a,b){b=b||1,null==a&&(a=this.ar);do this.ad[a--].value="";while(--b>0)},az:function(a){for(a=a||s;this.type===a;)this.ay(),this.au()},ba:function(a){for(this.az();this.ar<this.length;)this.type===s&&(this.ax.type===s?(this.au(),this.az()):(this.ao.type===v||this.ao.type===s||this.ax.type===v)&&this.az()),this.au();return this.bb(),a?void 0:this.ba(!0)},bb:function(){var a=[];for(this.av();this.ar<this.length;)this.value&&(a[a.length]=this.aj),this.au();this.ad=a,this.av()},bc:function(){this.ao.type!==u||this.ax.type!==u||this.ao.value.charAt(0)!==this.ax.value.charAt(0)&&this.ao.value.slice(-1)!==this.ax.value.slice(-1)||(this.ao.value=this.ao.value.slice(0,-1),this.ax.value=this.ax.value.substring(1),this.ay())},bd:function(){for(;this.ar<this.length;)this.type===s?this.at=0:(this.at+=this.value.length,this.at>=this.ab.maxLineLen&&(this.type!==v||R.test(this.value)||(this.aj.value+="\n",this.at=0))),this.au()},be:function(){for(this.ba();this.ar<this.length;){switch(this.type){case v:";"===this.value&&"}"===this.ax.value?this.ay():"+"===this.value&&this.bc();
}this.au()}this.bb(),this.bd()},minify:function(){return this.ad=X(this.aa,{lineTerminator:!0}),this.av(),this.be(),this.aa=null,Y(this.ad)}};j.minify=function(a,b){return new h(a,b).minify()};return j});