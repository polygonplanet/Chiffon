/*!
 * Chiffon v1.4.0 - A very small ECMAScript parser, tokenizer and minifier written in JavaScript.
 * Copyright (c) 2015 polygon planet <polygon.planet.aqua@gmail.com>
 * @license MIT
 */
!function(a,b,c){"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports?module.exports=c():exports[a]=c():"function"==typeof define&&define.amd?define(c):b[a]=c()}("Chiffon",this,function(){"use strict";function a(a){return new RegExp("(?:(/[*][\\s\\S]*?[*]/)|(//[^"+F+"]*|<!--[^"+F+"]*)|(?:^|("+G+"))(?:"+H+"|)(-->[^"+F+"]*)|(`(?:\\\\[\\s\\S]|[^`\\\\])*`)"+I+'|("(?:\\\\[\\s\\S]|[^"'+F+"\\\\])*\"|'(?:\\\\[\\s\\S]|[^'"+F+"\\\\])*')|("+(a?K:H)+")"+I+"|(0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)|(?:\\d+(?:[.]\\d*)?|[.]\\d+)(?:[eE][+-]?\\d+)?|[1-9]\\d*|0[0-7]+)|("+J+")|(\\\\u[0-9a-fA-F]{4})|"+H+"|("+G+")|("+L+"+))","g")}function b(a,b){var d,e=k;d=m?n._loc.rangeStart+W.lastIndex:X.lastIndex;for(var g=1;E>g;g++){var h=a[g];if(h){var i,j=d-h.length-l,p=D[g];if(p===r){if("*"===h.charAt(1)&&c(h,d),!o.comment)break}else if(p===s){if(k++,l=d,!o.lineTerminator)continue}else if(p===u||p===t)c(h,d);else if(p===z)"null"===h?p=A:"true"===h||"false"===h?p=B:O.test(h)&&(p=C);else if(p===w){if(m)break;i=f(h)}var q={type:p,value:h};if(i&&(q.regex=i,q._loc={line:k,rangeStart:d-h.length,prevLineIndex:l}),o.range&&(q.range=[d-h.length,d]),o.loc&&(q.loc={start:{line:e,column:j},end:{line:k,column:d-l}}),b[b.length]=q,h===a[0])break}}}function c(a,b){if(o.loc){var c=a.split(P);c.length>1&&(k+=c.length-1,l=b-c.pop().length)}}function d(a){for(var b=0;b<a.length;b++)if(a[b].type===w){for(var c,d=b,f=a[b];--d>=0;){var h=a[d],i=h.type;if(i!==r&&i!==s){var j=h.value;if(i===v){if(")"===j){if(e(a,d+1))break}else if(U.test(j))break}else if(i===C&&U.test(j))break;var k=g(f);Array.prototype.splice.apply(a,[b,1].concat(k)),c=!0;break}}c||delete f._loc}}function e(a,b){for(var c=0;--b>=0;){var d=a[b],e=d.type;if(e===v){var f=d.value;if("("===f){if(0===--c){var g=a[b-1];return g&&g.type===C&&V.test(g.value)?!0:!1}}else")"===f&&c++}}return!1}function f(a){var b=a.lastIndexOf("/"),c=a.substring(b+1),d=a.substr(1,b-1);return{pattern:d,flags:c}}function g(a){n=a;var c,d=a.value,e=[];for(o.loc&&(k=a.loc.start.line,l=a._loc.prevLineIndex),m=!0,W.lastIndex=0;null!=(c=W.exec(d));)b(c,e);return m=!1,n=null,e}function h(a,c){a=""+a,o=c||{};var e,f=[];for(k=1,l=0,m=!1,X.lastIndex=0;null!=(e=X.exec(a));)b(e,f);return d(f),o=null,f}function i(a,b){b=b||{};for(var c,d=[],e=b.maxLineLen||q,f=0,g=0,h=a.length;h>g;c=a[g++]){var i=a[g],j=i.type,k=i.value,l=a[g+1];if(c){var m="",n=c.type,o=c.value;if(j===s){if(n===s)continue;n===v||l&&l.type===v?k="":f=0}else(S.test(k)&&T.test(o)||Q.test(k)&&R.test(o))&&(m=" "),j===v&&f>e&&(k+="\n",f=0);var p=m+k;f+=p.length,d[d.length]=p}else j!==s&&(d[d.length]=k)}return d.join("")}function j(a,b){return i(h(a,{lineTerminator:!0}),b)}var k,l,m,n,o,p={},q=32e3,r="Comment",s="LineTerminator",t="Template",u="String",v="Punctuator",w="RegularExpression",x="Numeric",y="UnicodeEscapeSequence",z="Identifier",A="Null",B="Boolean",C="Keyword",D=["",r,r,s,r,t,u,w,x,v,y,s,z],E=D.length,F="\\r\\n\\u2028\\u2029",G="(?:\\r\\n|["+F+"])",H="(?:(?!["+F+"])\\s)+",I="(?=\\s*(?:(?!\\s*[/\\\\<>*+%`^\"'\\w$-])[^/\\\\<>*+%`^'\"({[\\w$-]|[!=]==?|[|][|]|&&|/[*/]|[,.;:!?)}\\]"+F+"]|$))",J="(?:>>>=?|[.]{3}|<<=|===|!==|>>=|[+][+](?=[+])|--(?=-)|[=!<>*%+/&|^-]=|&&|[|][|]|[+][+]|--|<<|>>|=>|[-+*/%<>=&|^~!?:;,.()[\\]{}])",K="(?:/(?![*])(?:\\\\.|[^/"+F+"\\\\])+/(?:[gimuy]{0,5}|\\b))",L="[^\\s+/%*=&|^~<>!?:;,.()[\\]{}'\"`-]",M="typeof|in|void|case|instanceof|yield|throw|delete",N="if|while|for|with",O=new RegExp("^(?:"+N+"|"+M+"|var|else|function|this|return|new|break|do|catch|finally|try|default|continue|switch|const|export|import|class|extends|debugger|super|let|static|enum|await|implements|package|protected|interface|private|public)$"),P=new RegExp(G),Q=new RegExp("^"+L),R=new RegExp(L+"$"),S=/^[+-]/,T=/[+-]$/,U=new RegExp("(?:(?:^(?:"+M+")$)|(?:(?![.\\]])"+J+"$))"),V=new RegExp("^(?:"+N+")$"),W=a(),X=a(!0);return p.tokenize=h,p.untokenize=i,p.minify=j,p});